From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: thomasclark <tjclark@wpi.edu>
Date: Wed, 25 Jun 2014 10:54:24 -0400
Subject: [PATCH 0127/6262] Fixed Java PCM test

Change-Id: I17bee703a05d800461b56bf5e179e8d9977e5dfd
---
 .../java/edu/wpi/first/wpilibj/PCMTest.java   | 22 +++++++++++--------
 1 file changed, 13 insertions(+), 9 deletions(-)

diff --git a/wpilibj/wpilibJavaIntegrationTests/src/main/java/edu/wpi/first/wpilibj/PCMTest.java b/wpilibj/wpilibJavaIntegrationTests/src/main/java/edu/wpi/first/wpilibj/PCMTest.java
index ded166d98b4cd53576c3d3921c2e9ff93dcd713b..e869793c06c60645db84959f419d317f93be4abb 100644
--- a/wpilibj/wpilibJavaIntegrationTests/src/main/java/edu/wpi/first/wpilibj/PCMTest.java
+++ b/wpilibj/wpilibJavaIntegrationTests/src/main/java/edu/wpi/first/wpilibj/PCMTest.java
@@ -100,11 +100,17 @@ public class PCMTest extends AbstractComsSetup {
 		reset();
 		compressor.setClosedLoopControl(true);
 
-		  // Turn on the compressor
-		  fakePressureSwitch.set(true);
-		  Timer.delay(kCompressorDelayTime);
-		  assertEquals("Compressor did not turn on when the pressure switch turned on.",
-				  kCompressorOnVoltage, fakeCompressor.getVoltage(), range);
+		// Turn on the compressor
+		fakePressureSwitch.set(true);
+		Timer.delay(kCompressorDelayTime);
+		assertEquals("Compressor did not turn on when the pressure switch turned on.",
+			kCompressorOnVoltage, fakeCompressor.getVoltage(), range);
+
+		// Turn on the compressor
+		fakePressureSwitch.set(false);
+		Timer.delay(kCompressorDelayTime);
+		assertEquals("Compressor did not turn off when the pressure switch turned off.",
+			kCompressorOffVoltage, fakeCompressor.getVoltage(), range);
 	}
 
 	/**
@@ -116,11 +122,9 @@ public class PCMTest extends AbstractComsSetup {
 
 		solenoid1.set(false);
 		solenoid2.set(false);
-
 		Timer.delay(kSolenoidDelayTime);
-
-		assertTrue("Solenoid did not turn off.",solenoid1.get());
-		assertTrue("Solenoid did not turn off.",solenoid2.get());
+		assertTrue("Solenoid #1 did not turn on",fakeSolenoid1.get());
+		assertTrue("Solenoid #2 did not turn off",fakeSolenoid2.get());
 
 		// Turn Solenoid #1 on, and turn Solenoid #2 off
 		solenoid1.set(true);
