From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Brad Miller <brad@wpi.edu>
Date: Mon, 14 Apr 2014 14:25:47 -0400
Subject: [PATCH 0037/6262] Init HAL from WPILibJ to remove segfaults

Change-Id: I28980218ffab440cf17c5a6bb953f52a3458fa6a
---
 .../src/main/java/edu/wpi/first/wpilibj/RobotBase.java          | 2 ++
 .../src/main/java/edu/wpi/first/wpilibj/RobotDrive.java         | 2 +-
 2 files changed, 3 insertions(+), 1 deletion(-)

diff --git a/wpilibj/wpilibJava/src/main/java/edu/wpi/first/wpilibj/RobotBase.java b/wpilibj/wpilibJava/src/main/java/edu/wpi/first/wpilibj/RobotBase.java
index b66f552c5b895d0eaf7a965a4bf0bce7a9fb55a8..af4c4135d2fa6c70f24bc0dc457685fb64dc67e2 100644
--- a/wpilibj/wpilibJava/src/main/java/edu/wpi/first/wpilibj/RobotBase.java
+++ b/wpilibj/wpilibJava/src/main/java/edu/wpi/first/wpilibj/RobotBase.java
@@ -238,6 +238,8 @@ public abstract class RobotBase {
         // System.out.println("ByteBuffer2 as Int" + returnBuffer2.getInt(0));
         
         /* End JNI Testing */
+
+        FRCNetworkCommunicationsLibrary.FRCNetworkCommunicationReserve();
         FRCNetworkCommunicationsLibrary.FRCNetworkCommunicationObserveUserProgramStarting();
 
         UsageReporting.report(tResourceType.kResourceType_Language, tInstances.kLanguage_Java);
diff --git a/wpilibj/wpilibJava/src/main/java/edu/wpi/first/wpilibj/RobotDrive.java b/wpilibj/wpilibJava/src/main/java/edu/wpi/first/wpilibj/RobotDrive.java
index 07d04e4f96b977b7244f5277b3026aae094b631e..9da30419ce0304fcd8b0d81018f4606828128353 100644
--- a/wpilibj/wpilibJava/src/main/java/edu/wpi/first/wpilibj/RobotDrive.java
+++ b/wpilibj/wpilibJava/src/main/java/edu/wpi/first/wpilibj/RobotDrive.java
@@ -71,7 +71,7 @@ public class RobotDrive implements MotorSafety, IUtility {
     protected SpeedController m_rearLeftMotor;
     protected SpeedController m_rearRightMotor;
     protected boolean m_allocatedSpeedControllers;
-    protected boolean m_isCANInitialized = true;
+    protected boolean m_isCANInitialized = false;//TODO: fix can
     protected static boolean kArcadeRatioCurve_Reported = false;
     protected static boolean kTank_Reported = false;
     protected static boolean kArcadeStandard_Reported = false;
