From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Colby Skeggs <skeggsc@catlin.edu>
Date: Mon, 30 Jun 2014 14:44:28 -0700
Subject: [PATCH 0149/6262] Fixed FRCSim artf2615: added more thorough cleaning
 system to Makefile.

Change-Id: I2e26b5480a1c4340bcf67c676dc7391c58b77bd5
---
 simulation/debs/Makefile | 28 ++++++++++++++++++++--------
 1 file changed, 20 insertions(+), 8 deletions(-)

diff --git a/simulation/debs/Makefile b/simulation/debs/Makefile
index dc4dfbfcc2e96fa9790827dc3bc256f8fee7239e..a55fb5515089944409d28083809b935836453f97 100644
--- a/simulation/debs/Makefile
+++ b/simulation/debs/Makefile
@@ -21,7 +21,7 @@ all: debs update-repository
 allwpilib:
 	cd $(allwpilib) && mvn -T 8 clean package -Dwith-eclipse-plugins -DskipTests -DskipIT
 
-orig: clean
+orig: pre-orig-clean
 	cd frcsim-gazebo-plugins && tar --exclude="./debian" -czvf \
 		frcsim-gazebo-plugins_${gazebo-plugins-version}.orig.tar.gz frcsim-gazebo-plugins
 	cd frcsim-gazebo-models && tar --exclude="./debian" -czvf \
@@ -59,7 +59,7 @@ clean-repository:
 	cd repository && reprepro remove $(codename) frcsim-libwpilibsim-cpp
 	cd repository && reprepro remove $(codename) frcsim
 
-clean:
+pre-orig-clean:
 	cd frcsim-gazebo-plugins/frcsim-gazebo-plugins && debuild clean
 	cd frcsim-gazebo-models/frcsim-gazebo-models && debuild clean
 	cd frcsim-eclipse-plugins/frcsim-eclipse-plugins && debuild clean
@@ -67,14 +67,26 @@ clean:
 	cd frcsim-libwpilibsim-cpp/frcsim-libwpilibsim-cpp && debuild clean
 	cd frcsim/frcsim && debuild clean
 
-	rm -f frcsim-gazebo-plugins/frcsim-gazebo-plugins_$(gazebo-plugins-package-version).orig.tar.gz
-	rm -f frcsim-gazebo-models/frcsim-gazebo-models_$(gazebo-models-package-version).orig.tar.gz
-	rm -f frcsim-eclipse-plugins/frcsim-eclipse-plugins_$(eclipse-plugins-package-version).orig.tar.gz
-	rm -f frcsim-eclipse-toolchain-plugin/frcsim-eclipse-toolchain-plugin_$(eclipse-toolchain-package-version).orig.tar.gz
+	rm -f frcsim-gazebo-plugins/frcsim-gazebo-plugins_$(gazebo-plugins-version).orig.tar.gz
+	rm -f frcsim-gazebo-models/frcsim-gazebo-models_$(gazebo-models-version).orig.tar.gz
+	rm -f frcsim-eclipse-plugins/frcsim-eclipse-plugins_$(eclipse-plugins-version).orig.tar.gz
+	rm -f frcsim-eclipse-toolchain-plugin/frcsim-eclipse-toolchain-plugin_$(eclipse-toolchain-version).orig.tar.gz
 	rm -f frcsim-libwpilib-cpp/frcsim-libwpilib-cpp_$(libwpilibsim-version).orig.tar.gz
-	rm -f frcsim/frcsim_$(frcsim-package-version).orig.tar.gz
+	rm -f frcsim/frcsim_$(frcsim-version).orig.tar.gz
 
-pull: pull-gazebo-plugins pull-eclipse-plugins pull-libwpilibsim-cpp orig
+clean: pre-orig-clean
+	rm -rf frcsim-eclipse-plugins/frcsim-eclipse-plugins/plugins
+	rm -rf frcsim-eclipse-plugins/frcsim-eclipse-plugins/features
+
+	rm -rf frcsim-gazebo-plugins/frcsim-gazebo-plugins/src
+
+	rm -rf frcsim-libwpilibsim-cpp/frcsim-libwpilibsim-cpp/src
+	rm -rf frcsim-libwpilibsim-cpp/frcsim-libwpilibsim-cpp/include
+	rm -f frcsim-libwpilibsim-cpp/frcsim-libwpilibsim-cpp/Makefile
+	rm -f frcsim-libwpilibsim-cpp/frcsim-libwpilibsim-cpp/CMakeLists.txt
+	rm -rf frcsim-libwpilibsim-cpp/frcsim-libwpilibsim-cpp/target
+
+pull: clean pull-gazebo-plugins pull-eclipse-plugins pull-libwpilibsim-cpp orig
 
 pull-gazebo-plugins:
 	cp -rf -t frcsim-gazebo-plugins/frcsim-gazebo-plugins/ $(allwpilib)/simulation/frc_gazebo_plugin/*
