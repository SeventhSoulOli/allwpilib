From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Jonathan Leitschuh <jlleitschuh@wpi.edu>
Date: Tue, 24 Jun 2014 11:01:52 -0400
Subject: [PATCH 0123/6262] Adds an error if you try to use SetVoltageRampRate
 in the wrong control mode

Change-Id: I9d6cfd81236f91fdb94defb3fc5ac3f0350daea7
---
 wpilibc/wpilibC++/lib/CANJaguar.cpp | 4 ++++
 1 file changed, 4 insertions(+)

diff --git a/wpilibc/wpilibC++/lib/CANJaguar.cpp b/wpilibc/wpilibC++/lib/CANJaguar.cpp
index 0babcdd8fafcaeb3c446a315e8a11a437f3835d1..b8c23b2c745072cb882775e78e3cf7d7bdb755d1 100644
--- a/wpilibc/wpilibC++/lib/CANJaguar.cpp
+++ b/wpilibc/wpilibC++/lib/CANJaguar.cpp
@@ -1360,7 +1360,11 @@ void CANJaguar::SetVoltageRampRate(double rampRate)
 		dataSize = packFXP8_8(dataBuffer, rampRate / kControllerRate);
 		message = LM_API_VCOMP_IN_RAMP;
 		break;
+	case kCurrent:
+	case kSpeed:
+	case kPosition:
 	default:
+		wpi_setWPIErrorWithContext(IncompatibleMode, "SetVoltageRampRate only applies in Voltage and Percent mode");
 		return;
 	}
 
