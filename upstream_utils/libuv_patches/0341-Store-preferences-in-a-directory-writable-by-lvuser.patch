From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Thomas Clark <tjclark@wpi.edu>
Date: Wed, 10 Sep 2014 14:05:51 -0400
Subject: [PATCH 0341/6262] Store preferences in a directory writable by lvuser

Change-Id: I1ed43968c2be76bfcb050a115f59517c398efff3
---
 wpilibc/wpilibC++Devices/src/Preferences.cpp                | 2 +-
 wpilibc/wpilibC++IntegrationTests/src/PreferencesTest.cpp   | 2 +-
 .../src/main/java/edu/wpi/first/wpilibj/Preferences.java    | 2 +-
 .../src/main/java/edu/wpi/first/wpilibj/PrefrencesTest.java | 6 +++---
 4 files changed, 6 insertions(+), 6 deletions(-)

diff --git a/wpilibc/wpilibC++Devices/src/Preferences.cpp b/wpilibc/wpilibC++Devices/src/Preferences.cpp
index 0b299a2fdc0e330caf5c3a256d591e28bafa8069..52901a0c709971a0ac2d679105a3a09fdd703ff9 100644
--- a/wpilibc/wpilibC++Devices/src/Preferences.cpp
+++ b/wpilibc/wpilibC++Devices/src/Preferences.cpp
@@ -18,7 +18,7 @@ static const char *kTableName = "Preferences";
 /** The value of the save field */
 static const char *kSaveField = "~S A V E~";
 /** The file to save to */
-static const char *kFileName = "wpilib-preferences.ini";
+static const char *kFileName = "/home/lvuser/wpilib-preferences.ini";
 /** The characters to put between a field and value */
 static const char *kValuePrefix = "=\"";
 /** The characters to put after the value */
diff --git a/wpilibc/wpilibC++IntegrationTests/src/PreferencesTest.cpp b/wpilibc/wpilibC++IntegrationTests/src/PreferencesTest.cpp
index ce1996cd6d27b88181e1beec1663871642d081e7..1140e47e15b22c29944dfc4cb95013bc77ab8625 100644
--- a/wpilibc/wpilibC++IntegrationTests/src/PreferencesTest.cpp
+++ b/wpilibc/wpilibC++IntegrationTests/src/PreferencesTest.cpp
@@ -10,7 +10,7 @@
 #include <cstdio>
 #include <fstream>
 
-static const char *kFileName = "wpilib-preferences.ini";
+static const char *kFileName = "/home/lvuser/wpilib-preferences.ini";
 static const double kSaveTime = 0.2;
 
 /**
diff --git a/wpilibj/wpilibJavaDevices/src/main/java/edu/wpi/first/wpilibj/Preferences.java b/wpilibj/wpilibJavaDevices/src/main/java/edu/wpi/first/wpilibj/Preferences.java
index f1449e46c687e44045e4454e7523b7ee96d351bd..26430a2aa0ac30029bd34623b4cb0ec68a60c73c 100644
--- a/wpilibj/wpilibJavaDevices/src/main/java/edu/wpi/first/wpilibj/Preferences.java
+++ b/wpilibj/wpilibJavaDevices/src/main/java/edu/wpi/first/wpilibj/Preferences.java
@@ -53,7 +53,7 @@ public class Preferences {
     /**
      * The file to save to
      */
-    private static final String FILE_NAME = "wpilib-preferences.ini";
+    private static final String FILE_NAME = "/home/lvuser/wpilib-preferences.ini";
     /**
      * The characters to put between a field and value
      */
diff --git a/wpilibj/wpilibJavaIntegrationTests/src/main/java/edu/wpi/first/wpilibj/PrefrencesTest.java b/wpilibj/wpilibJavaIntegrationTests/src/main/java/edu/wpi/first/wpilibj/PrefrencesTest.java
index 38e5e64c82f69298a34271b2123760a0bb815d69..45d4e147f07e2f31188de1193629bab547cb2b2c 100644
--- a/wpilibj/wpilibJavaIntegrationTests/src/main/java/edu/wpi/first/wpilibj/PrefrencesTest.java
+++ b/wpilibj/wpilibJavaIntegrationTests/src/main/java/edu/wpi/first/wpilibj/PrefrencesTest.java
@@ -28,7 +28,7 @@ import edu.wpi.first.wpilibj.test.AbstractComsSetup;
  */
 public class PrefrencesTest extends AbstractComsSetup {
 	private static final Logger logger = Logger.getLogger(PrefrencesTest.class.getName());
-	
+
 	private NetworkTable prefTable;
 	private Preferences pref;
 	private long check;
@@ -45,7 +45,7 @@ public class PrefrencesTest extends AbstractComsSetup {
 	@Before
 	public void setUp() throws Exception {
 		try {
-			File file = new File("wpilib-preferences.ini");
+			File file = new File("/home/lvuser/wpilib-preferences.ini");
 			file.mkdirs();
 			if (file.exists()) {
 				file.delete();
@@ -109,7 +109,7 @@ public class PrefrencesTest extends AbstractComsSetup {
 		assertEquals(pref.getFloat("checkedValueFloat", 0), 1, 0);
 		assertTrue(pref.getBoolean("checkedValueBoolean", false));
 	}
-	
+
 	@Test
 	public void testPreferencesToNetworkTables(){
 		String networkedNumber = "networkCheckedValue";
