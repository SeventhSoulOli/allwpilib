include(CheckCXXCompilerFlag)
macro(wpilib_target_warnings target)
    if(NOT MSVC)
        check_cxx_compiler_flag(-Wno-deprecated-copy HAS_NO_DEPRECATED_COPY)
        target_compile_options(${target} PRIVATE -Wall -pedantic -Wextra -Werror -Wno-unused-parameter -Wno-error=deprecated-declarations $<$<BOOL:${HAS_NO_DEPRECATED_COPY}>:-Wno-deprecated-copy>)
    else()
        target_compile_options(${target} PRIVATE /wd4244 /wd4267 /wd4146 /WX /wd4996)
    endif()
endmacro()
