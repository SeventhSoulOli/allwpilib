model {
    dependencyConfigs {
        googletest(DependencyConfig) {
            groupId = 'edu.wpi.first.thirdparty.frc2018'
            artifactId = 'googletest'
            headerClassifier = 'headers'
            ext = 'zip'
            version = '1.8.0-1-4e4df22'
            sharedConfigs = [:]
            staticConfigs = project.staticGtestConfigs
        }
    }
    binaries {
        withType(GoogleTestTestSuiteBinarySpec) {
            if (toolChain instanceof Clang) {
                println "Clang Detected - Using ASAN"
                cppCompiler.args << '-fsanitize=address'
                linker.args << '-fsanitize=address'
            }
        }
    }
}
